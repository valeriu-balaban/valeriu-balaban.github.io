(function($){var debug=false,animId;function showPlaceholderIfEmpty(input,options){if(input.val()===""){input.data("placeholder").removeClass(options.hideClass)}else{input.data("placeholder").addClass(options.hideClass)}}function hidePlaceholder(input,options){input.data("placeholder").addClass(options.hideClass)}function positionPlaceholder(placeholder,input){var ta=input.is("textarea");var pt=parseFloat(input.css("padding-top"));var pl=parseFloat(input.css("padding-left"));var offset=input.offset();if(pt){offset.top+=pt}if(pl){offset.left+=pl}placeholder.css({width:input.innerWidth()-(ta?20:4),height:input.innerHeight()-6,lineHeight:input.css("line-height"),whiteSpace:ta?"normal":"nowrap",overflow:"hidden"}).offset(offset)}function startFilledCheckChange(input,options){var val=input.val();(function checkloop(){animId=requestAnimationFrame(checkloop);if(input.val()!==val){hidePlaceholder(input,options);stopCheckChange();startEmptiedCheckChange(input,options)}}())}function startEmptiedCheckChange(input,options){(function checkloop(){animId=requestAnimationFrame(checkloop);showPlaceholderIfEmpty(input,options)}())}function stopCheckChange(){if(window.cancelAnimationFrame){cancelAnimationFrame(animId)}}function log(msg){if(debug&&window.console&&window.console.log){window.console.log(msg)}}$.fn.placeHolder=function(config){log("init placeHolder");var o=this;var l=$(this).length;this.options=$.extend({className:"placeholder",visibleToScreenreaders:true,visibleToScreenreadersHideClass:"placeholder-hide-except-screenreader",visibleToNoneHideClass:"placeholder-hide",hideOnFocus:false,removeLabelClass:"visuallyhidden",hiddenOverrideClass:"visuallyhidden-with-placeholder",forceHiddenOverride:true,forceApply:false,autoInit:true},config);this.options.hideClass=this.options.visibleToScreenreaders?this.options.visibleToScreenreadersHideClass:this.options.visibleToNoneHideClass;return $(this).each(function(index){var input=$(this),text=input.attr("placeholder"),id=input.attr("id"),label,placeholder,titleNeeded,polyfilled;function onFocusIn(){if(!o.options.hideOnFocus&&window.requestAnimationFrame){startFilledCheckChange(input,o.options)}else{hidePlaceholder(input,o.options)}}if(text===""||text===undefined){text=input[0].attributes.placeholder.value}label=input.closest("label");input.removeAttr("placeholder");if(!label.length&&!id){log("the input element with the placeholder needs an id!");return}label=label.length?label:$('label[for="'+id+'"]').first();if(!label.length){log("the input element with the placeholder needs a label!");return}polyfilled=$(label).find(".placeholder");if(polyfilled.length){positionPlaceholder(polyfilled,input);polyfilled.text(text);return input}if(label.hasClass(o.options.removeLabelClass)){label.removeClass(o.options.removeLabelClass).addClass(o.options.hiddenOverrideClass)}placeholder=$("<span>").addClass(o.options.className).text(text).appendTo(label);titleNeeded=(placeholder.width()>input.width());if(titleNeeded){placeholder.attr("title",text)}positionPlaceholder(placeholder,input);input.data("placeholder",placeholder);placeholder.data("input",input);placeholder.click(function(){$(this).data("input").focus()});input.focusin(onFocusIn);input.focusout(function(){showPlaceholderIfEmpty($(this),o.options);if(!o.options.hideOnFocus){stopCheckChange()}});showPlaceholderIfEmpty(input,o.options);$(document).bind("fontresize resize",function(){positionPlaceholder(placeholder,input)});if($.event.special.resize){$("textarea").bind("resize",function(event){if($(this).is(":visible")){positionPlaceholder(placeholder,input)}event.stopPropagation();event.preventDefault()})}else{$("textarea").css("resize","none")}if(index>=l-1&&typeof $.attrHooks!=="undefined"){$.attrHooks.placeholder={get:function(elem){if(elem.nodeName.toLowerCase()==="input"||elem.nodeName.toLowerCase()==="textarea"){if($(elem).data("placeholder")){return $($(elem).data("placeholder")).text()}else{return $(elem)[0].placeholder}}else{return undefined}},set:function(elem,value){return $($(elem).data("placeholder")).text(value)}}}if(input.is(":focus")){onFocusIn()}})};$(function(){var config=window.placeHolderConfig||{};if(config.autoInit===false){log("placeholder:abort because autoInit is off");return}if(("placeholder" in $("<input>")[0]||"placeHolder" in $("<input>")[0])&&!config.forceApply){log("placeholder:abort because browser has native support");return}$("input[placeholder], textarea[placeholder]").placeHolder(config)})}(jQuery));